<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bestellingen Beheren</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		.toast-container {
			position: fixed;
			top: 1rem;
			right: 1rem;
			z-index: 1055;
		}
		
	</style>
</head>
<body>
<div class="container my-5">
	<h2>Nieuwe Bestelling Toevoegen</h2>
	<form id="orderForm" class="mb-4">
		<div class="mb-3">
			<label for="productName" class="form-label">Productnaam</label>
			<input type="text" class="form-control" id="productName" required>
		</div>
		<div class="mb-3">
			<label for="customerName" class="form-label">Klantnaam</label>
			<input type="text" class="form-control" id="customerName" required>
		</div>
		<div class="mb-3">
			<label for="orderStatus" class="form-label">Status</label>
			<select class="form-select" id="orderStatus" required>
				<option value="In afwachting">In afwachting</option>
				<option value="In behandeling">In behandeling</option>
				<option value="Verzonden">Verzonden</option>
			</select>
		</div>
		<button type="submit" class="btn btn-primary">Bestelling Toevoegen</button>
	</form>
	
	<!-- Tabs voor bestellingen per status -->
	<ul class="nav nav-tabs" id="orderTabs" role="tablist">
		<li class="nav-item" role="presentation">
			<button class="nav-link active" id="pending-tab" data-bs-toggle="tab" data-bs-target="#pending" type="button" role="tab" aria-controls="pending" aria-selected="true">In afwachting</button>
		</li>
		<li class="nav-item" role="presentation">
			<button class="nav-link" id="processing-tab" data-bs-toggle="tab" data-bs-target="#processing" type="button" role="tab" aria-controls="processing" aria-selected="false">In behandeling</button>
		</li>
		<li class="nav-item" role="presentation">
			<button class="nav-link" id="shipped-tab" data-bs-toggle="tab" data-bs-target="#shipped" type="button" role="tab" aria-controls="shipped" aria-selected="false">Verzonden</button>
		</li>
	</ul>
	<div class="tab-content mt-4">
		<div class="tab-pane fade show active" id="pending" role="tabpanel" aria-labelledby="pending-tab">
			<ul id="pendingList" class="list-group"></ul>
		</div>
		<div class="tab-pane fade" id="processing" role="tabpanel" aria-labelledby="processing-tab">
			<ul id="processingList" class="list-group"></ul>
		</div>
		<div class="tab-pane fade" id="shipped" role="tabpanel" aria-labelledby="shipped-tab">
			<ul id="shippedList" class="list-group"></ul>
		</div>
	</div>
</div>

<!-- Toastmelding bij het toevoegen van een bestelling -->
<div class="toast-container">
	<div id="orderToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true">
		<div class="toast-header">
			<strong class="me-auto">Nieuwe Bestelling</strong>
			<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
		</div>
		<div class="toast-body" id="toastBody">
			<!-- Inhoud van de toast wordt dynamisch toegevoegd -->
		</div>
	</div>
</div>

<script>
	// Definieer een klasse voor de Bestelling
	class Bestelling {
		constructor(id, productNaam, klantNaam, status) {
			this.id = id;
			this.productNaam = productNaam;
			this.klantNaam = klantNaam;
			this.status = status;
		}
		
		// Methode om de bestelling te beschrijven
		beschrijf() {
			return `Product: ${this.productNaam}, Klant: ${this.klantNaam}`;
		}
	}
	
	// Variabelen voor bestellingenbeheer
	let bestellingId = 1;
	const bestellingen = {
		"In afwachting": [],
		"In behandeling": [],
		"Verzonden": []
	};
	
	// Selecteer de relevante DOM-elementen
	const orderForm = document.getElementById("orderForm");
	const pendingList = document.getElementById("pendingList");
	const processingList = document.getElementById("processingList");
	const shippedList = document.getElementById("shippedList");
	const toastElement = new bootstrap.Toast(document.getElementById("orderToast"));
	const toastBody = document.getElementById("toastBody");
	
	// Functie om een bestelling toe te voegen aan de juiste status-tab
	function voegBestellingToeAanTab(bestelling) {
		const listItem = document.createElement("li");
		listItem.classList.add("list-group-item");
		listItem.textContent = bestelling.beschrijf();
		
		if (bestelling.status === "In afwachting") {
			pendingList.appendChild(listItem);
		} else if (bestelling.status === "In behandeling") {
			processingList.appendChild(listItem);
		} else if (bestelling.status === "Verzonden") {
			shippedList.appendChild(listItem);
		}
	}
	
	// Functie om de bestelling toe te voegen aan de lijst en een toast weer te geven
	function voegNieuweBestellingToe(productNaam, klantNaam, status) {
		const nieuweBestelling = new Bestelling(bestellingId++, productNaam, klantNaam, status);
		bestellingen[status].push(nieuweBestelling);
		voegBestellingToeAanTab(nieuweBestelling);
		
		// Toon toast met de details van de nieuwe bestelling
		toastBody.textContent = `Nieuwe bestelling toegevoegd: ${nieuweBestelling.beschrijf()} - Status: ${status}`;
		toastElement.show();
	}
	
	// Event listener voor het orderformulier
	orderForm.addEventListener("submit", function(event) {
		event.preventDefault();
		
		// Haal waarden op uit het formulier
		const productNaam = document.getElementById("productName").value;
		const klantNaam = document.getElementById("customerName").value;
		const status = document.getElementById("orderStatus").value;
		
		// Voeg de nieuwe bestelling toe
		voegNieuweBestellingToe(productNaam, klantNaam, status);
		
		// Formulier resetten na toevoegen
		orderForm.reset();
	});
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
